<template>
    <lightning-card title="Available Products" icon-name="standard:product">
        
        <!-- Filter Controls -->
        <div class="slds-p-horizontal_medium slds-m-bottom_medium">
            <lightning-combobox
            name="country"
            label="Country"
            value={selectedCountry}
            placeholder="Filter by country"
            options={countryOptions}
            onchange={handleChange}>
        </lightning-combobox>
        
        <lightning-combobox
        name="type"
        label="Type"
        value={selectedType}
        placeholder="Filter by type"
        options={recortTypeOptions}
        onchange={handleChange}>
    </lightning-combobox>
    
    <lightning-input
    label="Opportunity Name"
    value={opportunityName}
    onchange={handleNameChange}>
</lightning-input>
</div>

<!-- Product Table -->
<template if:true={products}>
    <lightning-datatable
    key-field="productId"
    onrowaction={handleRowAction}
    data={filteredProducts}
    onrowselection={handleRowSelection}
    columns={columns}
    selected-rows={selectedRowIds}>
    
</lightning-datatable>
</template>

<!-- Error Handling -->
<template if:true={error}>
    <p class="slds-text-color_error slds-p-horizontal_medium">
        {error.body.message}
    </p>
</template>

<div class="slds-m-top_medium slds-align_absolute-center">
    <lightning-button
    label="Submit"
    variant="brand"
    onclick={handleSubmit}
    disabled={isSubmitDisabled}>
</lightning-button>
<lightning-helptext content="To Submit, you need to at Least Select 1 Product, and Add an Opportunity Name"></lightning-helptext>

</div>

</lightning-card>
</template>
